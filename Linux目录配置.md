# Linux的文件权限与目录配置

## 5.3.1 Linux目录配置的依据——FHS

|                    | 可分享                  | 不可分享              |
| ------------------ | ----------------------- | --------------------- |
| 不变（static）     | /usr(软件存放处)        | /etc(配置文件)        |
|                    | /opt(第三方辅助软件)    | /boot(启动与内核文件) |
| 可变动（variable） | /var/mail(用户邮箱)     | /var/run(程序相关)    |
|                    | /var/spool/news(新闻组) | /var/lock(程序相关)   |

## 5.3.2 目录树（directory tree）

- 目录树的启始点为根目录（/，root）
- 每一个目录不止能使用本地分区的文件系统，也可以使用网络上的文件系统。举例来说，
- 每一个文件在此目录树中的文件名都是独一无二的





- Linux的每个文件中，可分别给予用户、用户组与其他人三种身份的rwx权限
- 用户组最有用的功能之一，就是当你在团队协同工作的时候，且每个账号都可以有多个用户组的支持
- 利用ls -l现实的文件属性中，第一个字段是文件的权限，共有十个位，第一个位是文件类型，接下来三个为一组共三组，为用户、用户组、其他人的权限，权限有r(read可读）、w（write可写）、x(execute可执行）三种；
  - 第一个字符代表这个文件是目录、文件或链接文件等：
    - [d]是目录
    - [-]是文件
    - [l]是链接文件
    - [b]是设备文件里面的可供存储的周边设备
    - [c]是设备文件里面的串行端口设备

![image-20210428211448077](C:\Users\Silhouette76\AppData\Roaming\Typora\typora-user-images\image-20210428211448077.png)

- 如果一个文件名之前多一个“.”，则代表这个文件为隐藏文件
- 若需要root的权限时，可以使用su - 这个命令来切换身份，操作完毕则使用exit离开su的命令环境。
- 更改文件的用户组支持可用chgrp，修改文件的拥有者可用chown，修改文件的权限可用chmod
- chmod修改权限的方法有两种，分别时符号法和数字法。数字法中r、w、x数字分别为4、2、1
- 对文件来讲，权限的性能为：
  - r：可读取此文件的实际内容，如读取文本文件的文字内容等
  - w：可以编辑、新增或是修改该文件的内容（但不含删除该文件）
  - x：该文件具有可以被系统执行的权限
- 对目录来说，权限的功能为：
  - r：读取目录中的内容
  - w：修改目录中的内容
  - x：访问目录
- 要开放目录给任何人浏览时，应该至少也要给予r及x的权限，但w权限不可随便给
- 能否读取到某个文件内容，跟该文件所在的目录权限也有关系（目录至少需要有x的权限）
- Linux文件名的限制为：单一文件或目录的最大容许文件名为255个英文字符或128个中文字符
- 根据FHS的官方文件指出，它们的主要目的时希望让用户可以了解到已安装软件通常放置于哪个目录
- FHS制定出来的四种目录：shareable、unshareable、static、variable等四类
- FHS所定义的三层主目录为：/、/var、/usr 三层
- 绝对路径为从根目录/开始写起，否则就是相对路径

### 练习

- 早期的UNIX系统文件名最多允许14个字符，而新的UNIX与Linux系统中，文件名最多可以使用几个字符？

  Linux文件名的限制为：单一文件或目录的最大容许文件名为255个英文字符或128个中文字符

- 当一个一般文件权限为-rwxrwxrwx则表示这个文件的意义是什么？

  用户、用户组、其他人对这个文件可读可写可执行

- 我需要将一个文件的权限改为-rwxr-xr--，请问该如何执行该命令?

  chmod 754 文件名

- 若我需要更改一个文件的拥有者或用户组，该用什么命令？

  更改文件的用户组支持可用chgrp，修改文件的拥有者可用chown

- 若一个文件的文件名开头为“.”,例如.bashrc这个文件，代表什么呢？另外，如何显示出这个文件与它相关的属性？

  代表了它是个隐藏文件 使用ls -l显示

- 请问下面的目录主要放置什么数据：

  - /etc/:系统主要的配置文件几乎都放置在这个目录内

  - /boot:放置启动会使用到的文件，包括Linux内核文件以及启动选项与启动所需配置文件等

  - /usr/bin:所有一般用户能够使用的命令都放在这里

  - /bin:放置的是在单人维护模式下还能够被使用的命令

  - /usr/sbin:非系统正常允许所需要的系统命令，最常见的就是某些网络服务器软件的服务命令

  - /sbin:放置的为启动过程中所需要的，里面包括了启动、修复、还原系统所需要的命令

  - /dev:在Linux系统上，任何设备与接口设备都是以文件的形式存在于这个目录当中

  - /var/log:这是日志文件放置的目录，里面比较重要的文件有/var/log/messages、/var/log/wtmp

  - /run:早期的FHS规定系统启动后所产生的各项信息应该要放置到/var/run目录下，新版FHS则规范到/run下面，由于/run可以使用内存来模拟，因此性能上会好很多

    

    

    

    

